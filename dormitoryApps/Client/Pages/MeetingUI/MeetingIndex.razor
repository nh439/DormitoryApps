@page "/meeting"
@using dormitoryApps.Client.Services;
@inject SessionServices _sessionServices;

@code{
  int mode = 1;
    bool isadmin = false;
    protected override async void OnInitialized()
    {
        await _sessionServices.RequiredPermission();
        isadmin = await _sessionServices.IsAdmin();
        StateHasChanged();
    }
}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
<center>
    <h1>การประชุม/นัดพบ</h1>
</center>
<button class="btn btn-primary" @onclick="()=>create.Open()"><i class="plus icon"></i> Create</button>
<div class="ui two item menu">
  <a class="item @(mode==1 ? "active":"")" @onclick="()=>{mode=1;StateHasChanged();}">Incoming</a>
  <a class="item @(mode==2 ? "active":"")" @onclick="()=>{mode=2;StateHasChanged();}">Sent</a> 
</div>
<br />
@if(mode==1)
{
    <dormitoryApps.Client.Pages.MeetingUI.Partial.Incoming/>
}
else if(mode==2)
{
    <dormitoryApps.Client.Pages.MeetingUI.Partial.MySent/>
}

<dormitoryApps.Client.Pages.MeetingUI.Modal.Create @ref="create"/>

@code{
    dormitoryApps.Client.Pages.MeetingUI.Modal.Create create;
}